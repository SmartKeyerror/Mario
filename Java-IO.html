<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Page Meta -->
    <title>JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ</title>
    <meta name="description" content="Keep coding, Keep curiosity" />

    <!-- Mobile Meta -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Brand icon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- highlight.js -->
<!--    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">-->
<!--    <style>.hljs { background: none; }</style>-->

    <!-- Ghost outputs important style and meta data with this tag -->
        <link rel="canonical" href="https://smartkeyerror.com//Java-IO" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="çŸ¥å…¶ç„¶, çŸ¥å…¶æ‰€ä»¥ç„¶" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ" />
    <meta property="og:description" content="Keep coding, Keep curiosity" />
    <meta property="og:url" content="https://smartkeyerror.com//Java-IO" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ" />
    <meta name="twitter:description" content="Keep coding, Keep curiosity" />
    <meta name="twitter:url" content="https://smartkeyerror.com//Java-IO" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "çŸ¥å…¶ç„¶, çŸ¥å…¶æ‰€ä»¥ç„¶",
    "name": "JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ",
    "url": "https://smartkeyerror.com//Java-IO",
    "image": "/assets/images/cover1.jpg",
    "description": "Keep coding, Keep curiosity"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="çŸ¥å…¶ç„¶, çŸ¥å…¶æ‰€ä»¥ç„¶" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <!-- The blog navigation links -->
    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-archives " role="presentation"><a href="/archives">Archives</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
    </ul>
<!--    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>-->
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-fiction">

        <header class="post-header">
            <h1 class="post-title">JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ</h1>
            <section class="post-meta">
            <!-- <a href='/'></a> -->

            
                
                    <a href='/author/smartkeyerror'>smartkeyerror</a>
                
            
            <time class="post-date" datetime="2018-11-29">29 Nov 2018</time>
                <!-- [[tags prefix=" on "]] -->
                
                on
                
                    
                       <a href='/tag/JavaåŸºç¡€'>JavaåŸºç¡€</a>
                    
                
                    
                       <a href='/tag/I/O'>I/O</a>
                    
                
                
            </section>
        </header>

        <section class="post-content">

            <p><code class="highlighter-rouge">Java</code>ä¸­çš„I/Oç³»ç»Ÿç›¸è¾ƒäº<code class="highlighter-rouge">Python</code>è¦å¤æ‚è®¸å¤šï¼Œ ä¸ç®¡æ˜¯ä»è®¾è®¡ä¸Šè¿˜æ˜¯å®ç°ä¸Šã€‚ è¿™ä¸€å—å„¿çš„å†…å®¹ä¹Ÿæ˜¯æˆ‘åœ¨å­¦ä¹ <code class="highlighter-rouge">Java</code>æ—¶é‡åˆ°çš„æœ€å¤§çš„å›°éš¾(å¹¶å‘åŒ…éƒ½æ¯”è¿™ä¸ªå¥½ç†è§£)ï¼Œ ç»è¿‡äº†æŒ(san)ä¹‹(tian)ä»¥(da)æ’(yu)çš„å­¦ä¹ ä¹‹åï¼Œ ç®—æ˜¯å¯¹Java I/Oç³»ç»Ÿæœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†å’Œç†è§£ã€‚</p>

<!---more--->

<h4 id="1-pythonè¯­è¨€ä¸‹çš„ioç³»ç»Ÿ">1. Pythonè¯­è¨€ä¸‹çš„I/Oç³»ç»Ÿ</h4>
<p>ä½œä¸ºä¸€ä¸ªPythonCoderï¼Œ é¦–å…ˆå½“ç„¶æ˜¯è¦å¯¹Python I/Oç³»ç»Ÿåšä¸€ä¸ªè¯¦ç»†çš„æ¢³ç†ï¼Œ åœ¨æ¯”è¾ƒä¸­ç†è§£å’Œæé«˜ã€‚ åœ¨<code class="highlighter-rouge">Python</code>ä¸­ï¼Œ æ‰€æœ‰çš„æ–‡ä»¶æ“ä½œï¼Œ ä¸ç®¡æ˜¯è¯»è¿˜æ˜¯å†™ï¼Œ éƒ½ä»¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶èµ·æ‰‹ï¼Œ åŒæ—¶ä¸ºäº†æ›´å¥½çš„ç®¡ç†æ–‡ä»¶èµ„æºï¼Œ å¯ä»¥ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨<code class="highlighter-rouge">with</code>è¯­å¥ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># è¯»æ–‡ä»¶</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"hello.txt"</span><span class="p">,</span> <span class="s">"rt"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c"># å†™æ–‡ä»¶(è¦†ç›–å†™)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"hello.txt"</span><span class="p">,</span> <span class="s">"wt"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"hello</span><span class="se">\n</span><span class="s">world</span><span class="se">\n</span><span class="s">!"</span><span class="p">)</span>
</code></pre></div></div>

<p>ä¸å¾—ä¸è¯´ï¼Œ æ˜¯çœŸçš„ç®€å•â€¦é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å½»åº•çš„ç†è§£<code class="highlighter-rouge">Python</code>å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œ è¶Šæ˜¯ç®€å•çš„å†…å®¹ï¼Œ è¶Šæ˜¯ä¸èƒ½æ‰ä»¥è½»å¿ƒã€‚ æœ€ä½³çš„å‚è€ƒæ–‡çŒ®å°±æ˜¯<code class="highlighter-rouge">builts.py</code>ä¸­çš„æ–‡æ¡£æ³¨é‡Šã€‚</p>

<p>é¦–å…ˆæ¥çœ‹<code class="highlighter-rouge">open</code>å‡½æ•°ä¸­çš„æ¨¡å¼é€‰æ‹©ï¼Œ ä¸€å…±æœ‰8ç§æ“ä½œæ¨¡å¼ï¼Œ å…¶ä¸­<code class="highlighter-rouge">U</code>æ¨¡å¼å¹¶ä¸å»ºè®®ä½¿ç”¨ï¼š</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">å­—ç¬¦</th>
      <th>å«ä¹‰</th>
      <th style="text-align: center">å­—ç¬¦</th>
      <th>å«ä¹‰</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">r</td>
      <td>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶è¿›è¡Œè¯»å–</td>
      <td style="text-align: center">w</td>
      <td>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶è¿›è¡Œå†™å…¥(è¦†ç›–åŸæœ‰æ–‡ä»¶å†…å®¹)</td>
    </tr>
    <tr>
      <td style="text-align: center">x</td>
      <td>åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œ å¹¶å°†å…¶æ‰“å¼€å‡†å¤‡å†™å…¥</td>
      <td style="text-align: center">a</td>
      <td>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶ä»¥è¿½åŠ çš„æ–¹å¼è¿›è¡Œå†™å…¥</td>
    </tr>
    <tr>
      <td style="text-align: center">b</td>
      <td>ä»¥äºŒè¿›åˆ¶çš„æ ¼å¼æ‰“å¼€æ–‡ä»¶</td>
      <td style="text-align: center">t</td>
      <td>ä»¥æ–‡æœ¬çš„æ ¼å¼æ‰“å¼€æ–‡ä»¶</td>
    </tr>
    <tr>
      <td style="text-align: center">+</td>
      <td>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶è¿›è¡Œæ›´æ–°ï¼Œ å¯è¯»å¯å†™</td>
      <td style="text-align: center">Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<p>æ–‡æ¡£æè¿°çš„éå¸¸æ¸…æ¥šï¼Œ ä¸¾å‡ ä¸ªéå¸¸å¸¸è§çš„ä¾‹å­ï¼š <code class="highlighter-rouge">rb</code>ï¼Œ ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–æ–‡ä»¶ï¼Œ åœ¨è¯»å–æ–‡ä»¶æ—¶å°†ä¼šå¾—åˆ°<code class="highlighter-rouge">bytes</code>ç±»å‹ï¼› <code class="highlighter-rouge">wt</code>ï¼Œ ä»¥æ–‡æœ¬çš„æ–¹å¼å¯¹æ–‡ä»¶è¿›è¡Œæ¸…ç©ºå†™å…¥ï¼Œ ä¸ç®¡å†™ä¸å†™å†…å®¹ï¼Œ æ–‡ä»¶å†…å®¹åœ¨è°ƒç”¨<code class="highlighter-rouge">open</code>å‡½æ•°æ—¶å°±ç›´æ¥è¢«æ¸…ç©ºï¼› å¦‚æœä»¥<code class="highlighter-rouge">ab</code>æ¨¡å¼å†™å…¥å­—ç¬¦ç±»å‹ï¼Œ å°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œ å¦‚æœæƒ³è¦å·²å­—èŠ‚æ¨¡å¼å†™å…¥ä¸­æ–‡ï¼Œ éœ€è¦å¯¹å­—ç¬¦è¿›è¡Œ<code class="highlighter-rouge">encode("utf-8")</code>æ“ä½œï¼Œ å°†å…¶è½¬æ¢ä¸ºå­—èŠ‚ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"hello.txt"</span><span class="p">,</span> <span class="s">"ab"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"ä½ å¥½"</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div></div>

<p>Emojiæ—¢å¯ä»¥ä»¥å­—ç¬¦å†™å…¥ï¼Œ ä¹Ÿå¯ä»¥ä»¥bytså†™å…¥ï¼Œ è¯»å–çš„è¯è¿›è¡Œä¸€ä¸ªç¼–ç çš„è½¬æ¢å³å¯ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"hello.txt"</span><span class="p">,</span> <span class="s">"ab"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c"># ä»¥bytesæ¨¡å¼æ‰“å¼€ï¼Œ é‚£ä¹ˆéœ€è¦å†™å…¥bytes</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"ğŸ˜ ğŸ˜±"</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"hello.txt"</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c"># å¾—åˆ°çš„dataä¸ºbytes</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c"># æ‰“å°å­—ç¬¦ä¸²éœ€è¦å¯¹å…¶è¿›è¡Œè§£ç </span>
    <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div></div>

<p>åœ¨æ–‡æ¡£çš„æœ«å°¾æœ‰è¿™æ ·ä¸€æ®µè¯ï¼š <code class="highlighter-rouge">open</code>æ–¹æ³•å°†ä¼šè¿”å›ä¸€ä¸ª<code class="highlighter-rouge">file</code>å¯¹è±¡ï¼Œ å½“æˆ‘ä»¬ä½¿ç”¨<code class="highlighter-rouge">t</code>æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œ å°†ä¼šè¿”å›<code class="highlighter-rouge">TextIOWrapper</code>å¯¹è±¡ï¼› å½“ä½¿ç”¨<code class="highlighter-rouge">b</code>æ¨¡å¼ï¼Œ å¹¶ä¸”è¯»æ–‡ä»¶æ—¶ï¼Œ è¿”å›<code class="highlighter-rouge">BufferedReader</code>å¯¹è±¡ï¼Œ å†™æ–‡ä»¶æ—¶è¿”å›<code class="highlighter-rouge">BufferedWriter</code>å¯¹è±¡ï¼› å½“ä½¿ç”¨<code class="highlighter-rouge">+</code>æ¨¡å¼æ—¶ï¼Œ å°†ä¼šè¿”å›ä¸€ä¸ª<code class="highlighter-rouge">BufferedRandom</code>å¯¹è±¡ã€‚</p>

<p>ä¸ç®¡æ˜¯ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼å»è¯»å–æˆ–è€…å†™å…¥æ–‡ä»¶ï¼Œ <code class="highlighter-rouge">buffer</code>å¯¹è±¡æ˜¯è·‘ä¸æ‰çš„ã€‚ ä¹‹æ‰€ä»¥æœ‰bufferå­˜åœ¨ï¼Œ æ˜¯å› ä¸ºå†…å­˜å’Œç£ç›˜ä¹‹é—´çš„è¯»å†™é€Ÿåº¦å·®è·è¿‡å¤§ï¼Œ æ·»åŠ bufferå¯ä»¥è°ƒèŠ‚ä¸¤è€…ä¹‹é—´çš„é€Ÿåº¦å·®ï¼Œ å¯¹I/Oæ“ä½œè¿›è¡Œä¼˜åŒ–ã€‚ åœ¨æ–‡æ¡£ä¸­ä¹Ÿè¯´æ˜äº†æ¯ä¸€ç§æ¨¡å¼ä¸‹çš„bufferå¤§å°ã€‚</p>

<p>åœ¨Ubuntuä¸‹è¿›è¡Œæµ‹è¯•æ—¶ï¼Œ ä½¿ç”¨<code class="highlighter-rouge">rb</code>æ¨¡å¼bufferå¤§å°ä¸º4096ï¼Œ ä½¿ç”¨<code class="highlighter-rouge">rt</code>æ¨¡å¼bufferå¤§å°ä¸º8192ã€‚ ä¹‹æ‰€ä»¥æ˜¯4096ï¼Œ ä¸€æ–¹é¢æ˜¯å› ä¸ºåœ¨<code class="highlighter-rouge">ext4</code>ç£ç›˜æ–‡ä»¶æ ¼å¼ä¸‹ï¼Œ å…¶é»˜è®¤çš„<code class="highlighter-rouge">block size</code>å³ä¸º4096ï¼Œ å¦ä¸€æ–¹é¢å½“è¶…è¿‡4096æ—¶ï¼Œ å…¶æ•ˆç‡å¹¶æ²¡æœ‰æ˜¾è‘—çš„æé«˜(å…·ä½“çš„æµ‹è¯•æ•°æ®åœ¨<code class="highlighter-rouge">unixç¯å¢ƒé«˜çº§ç¼–ç¨‹</code>æœ‰ç»™å‡º)ã€‚  åœ¨<code class="highlighter-rouge">Python</code>ä¸­ï¼Œ ä½¿ç”¨bufferå»è£…å¡«æ•°æ®çš„è¿‡ç¨‹ç”±è¯­è¨€åº•å±‚å¸®æˆ‘ä»¬å®Œæˆï¼Œ è€Œåœ¨<code class="highlighter-rouge">Java</code>ä¸­ï¼Œ è¿™ä¸ªè¿‡ç¨‹ç”±æˆ‘ä»¬è‡ªå·±å®Œæˆã€‚</p>

<p>åŸºæœ¬ä¸Šè¿™äº›å°±æ˜¯<code class="highlighter-rouge">Python</code>ä¸­å¯¹æ–‡ä»¶çš„è¯»å†™æ“ä½œäº†ï¼Œ å¯ä»¥çœ‹åˆ°è¯­è¨€å°†ä¸€äº›ç»†èŠ‚å°è£…åˆ°äº†åº•å±‚ï¼Œ ä½¿ç”¨è€…å¯ä»¥ä¸ç”¨å…³å¿ƒè¿™äº›ç»†èŠ‚ï¼Œ ä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ã€‚ ä½†æ˜¯åœ¨<code class="highlighter-rouge">Java</code>è¯­è¨€ä¸­ï¼Œ I/Oå°±æ²¡æœ‰é‚£ä¹ˆç®€å•äº†ã€‚</p>

<h4 id="2-fileç±»">2. Fileç±»</h4>
<p>åœ¨<code class="highlighter-rouge">Python</code>ä¸­ï¼Œ å¯ä»¥ç›´æ¥åœ¨<code class="highlighter-rouge">open</code>æ–¹æ³•è¿”å›çš„<code class="highlighter-rouge">file</code>å¯¹è±¡ä¸Šå¯¹æ–‡ä»¶çš„å†…å®¹è¿›è¡Œè¯»å–å’Œå†™å…¥ï¼Œ ä½†æ˜¯åœ¨<code class="highlighter-rouge">Java</code>ä¸­ï¼Œ <code class="highlighter-rouge">File</code>ç±»ä»…è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œ æˆ–è€…è¯´æ˜¯å¯¹ç³»ç»Ÿç£ç›˜æ–‡ä»¶çš„æ“ä½œï¼Œ åŒ…æ‹¬åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œ æŸ¥çœ‹æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸï¼Œ å¤§å°ä»¥åŠæƒé™ç­‰ã€‚</p>

<p>å¸¸ç”¨çš„æ„é€ å™¨ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">File</span><span class="o">(</span><span class="n">String</span> <span class="n">path</span><span class="o">)</span>
<span class="n">File</span><span class="o">(</span><span class="n">File</span> <span class="n">parent</span><span class="o">,</span> <span class="n">String</span> <span class="n">child</span><span class="o">)</span>
<span class="n">File</span><span class="o">(</span><span class="n">String</span> <span class="n">parent</span><span class="o">,</span> <span class="n">String</span> <span class="n">child</span><span class="o">)</span>
</code></pre></div></div>

<p>å½’æ ¹ç»“åº•å°±æ˜¯éœ€è¦ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼Œ è¯¥è·¯å¾„å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œ ä¹Ÿå¯ä»¥å°†è·¯å¾„æ‹†åˆ†æˆ2ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡å’Œä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ é‚£ä¹ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å°±æœ‰äº†å¾ˆå¤šç§å†™æ³•ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateFileTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"/home/smartkeyerror/JavaProjects/LearningJava/hello.txt"</span><span class="o">);</span>
        <span class="kt">boolean</span> <span class="n">isCreated</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">isCreated</span><span class="o">);</span>

        <span class="n">File</span> <span class="n">file1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"/home/smartkeyerror/JavaProjects/LearningJava"</span><span class="o">,</span> <span class="s">"hello1.txt"</span><span class="o">);</span>
        <span class="kt">boolean</span> <span class="n">isCreated1</span> <span class="o">=</span> <span class="n">file1</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">isCreated1</span><span class="o">);</span>

        <span class="n">File</span> <span class="n">file2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"."</span><span class="o">),</span> <span class="s">"hello2.txt"</span><span class="o">);</span>
        <span class="kt">boolean</span> <span class="n">isCreated2</span> <span class="o">=</span> <span class="n">file2</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">isCreated2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œ æ­¤å¤–<code class="highlighter-rouge">File</code>ç±»è¿˜æä¾›äº†<code class="highlighter-rouge">mkdir</code>ä»¥åŠ<code class="highlighter-rouge">mkdirs</code>æ–¹æ³•æ¥åˆ›å»ºç›®å½•ï¼Œ å…¶ä¸­<code class="highlighter-rouge">mkdir</code>å¦‚æœåœ¨æ–‡ä»¶è·¯å¾„ä¸­æœ‰æ–‡ä»¶å¹¶ä¸å­˜åœ¨ï¼Œ åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼› è€Œ<code class="highlighter-rouge">mkdirs</code>åˆ™ä¼šå¸®æˆ‘ä»¬åˆ›å»ºè¯¥è·¯å¾„ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ç›®å½•ï¼Œ å¦‚æœè¯¥ç›®å½•åœ¨ç£ç›˜ä¸­ä¸å­˜åœ¨çš„è¯ã€‚</p>

<p><code class="highlighter-rouge">list</code>æ–¹æ³•å°†ä¼šè¿”å›è·¯å¾„ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•çš„åç§°æ‰€å½¢æˆçš„å­—ç¬¦æ•°ç»„ï¼Œ <code class="highlighter-rouge">listFiles</code>å°†ä¼šè¿”å›ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¯¹è±¡ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">File</span> <span class="n">fileNew</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
<span class="n">File</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">fileNew</span><span class="o">.</span><span class="na">listFiles</span><span class="o">();</span>
<span class="k">for</span> <span class="o">(</span><span class="n">File</span> <span class="n">file3</span> <span class="o">:</span> <span class="n">files</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">file3</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>  <span class="c1">// è·å–æ–‡ä»¶æˆ–ç›®å½•åç§°</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">file3</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">());</span>  <span class="c1">// åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">file3</span><span class="o">.</span><span class="na">isFile</span><span class="o">());</span>  <span class="c1">// åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶</span>
<span class="o">}</span>
</code></pre></div></div>

<p>æ¯”è¾ƒå€¼å¾—ä¸€æçš„å°±æ˜¯æ–‡ä»¶æŸ¥æ‰¾æ—¶ç­–ç•¥æ¨¡å¼çš„åº”ç”¨ï¼š å½“æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°ç›®å½•ä¸­æ‰€æœ‰ä»¥<code class="highlighter-rouge">.txt</code>ç»“å°¾çš„æ–‡ä»¶æ—¶ï¼Œ å›ºç„¶å¯ä»¥ä½¿ç”¨å¾ªç¯éå†åœ¨è¿›è¡Œåˆ¤æ–­ï¼Œ åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">FilenameFilter</code>è¿™ä¸ªâ€ç­–ç•¥â€å¯¹è±¡æ¥å®ç°ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="k">new</span> <span class="n">FilenameFilter</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="n">File</span> <span class="n">dir</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".txt"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹<code class="highlighter-rouge">list</code>æ–¹æ³•çš„æºç ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">list</span><span class="o">(</span><span class="n">FilenameFilter</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">names</span><span class="o">[]</span> <span class="o">=</span> <span class="n">list</span><span class="o">();</span>
    <span class="cm">/** å½“filterä¸ºnullæ—¶ç›´æ¥è¿”å›namesæ•°ç»„ */</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">names</span><span class="o">.</span><span class="na">length</span> <span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">names</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span> <span class="o">{</span>
            <span class="n">v</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">names</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="n">v</span><span class="o">.</span><span class="na">size</span><span class="o">()]);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°å…·ä½“çš„å®ç°è¿˜æ˜¯ä¸€ä¸ªå¾ªç¯éå†ï¼Œ ä½†æ˜¯è¿™ä¸ªå¾ªç¯éå†äº¤ç»™äº†JDKå»å¤„ç†ï¼Œ æˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ª<code class="highlighter-rouge">filter</code>å¯¹è±¡å¹¶èµ‹äºˆå…¶ç›¸å…³è§„åˆ™å³å¯ï¼Œ ç®€åŒ–å¼€å‘äººå‘˜ä»£ç ç¼–å†™çš„æ•°é‡(å½“ç„¶ï¼Œ æŒ‰è¡Œæ•°ç®—å·¥èµ„çš„å½“æˆ‘æ²¡è¯´)ã€‚</p>

<h4 id="3-streamç±»">3. Streamç±»</h4>
<p>å½“æˆ‘ä»¬ä½¿ç”¨<code class="highlighter-rouge">new File</code>åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œ ç´§éšå…¶åçš„å°±æ˜¯è¯»å–æˆ–è€…å‘æ–‡ä»¶å†™å…¥å†…å®¹ï¼Œ é‚£ä¹ˆæ­¤æ—¶å°±æœ‰äº†2ç§é€‰æ‹©ï¼šä»¥å­—ç¬¦çš„æ–¹æ³•è¯»å–/å†™å…¥ï¼Œ ä»¥å­—èŠ‚çš„æ–¹å¼è¿›è¡Œè¯»å–/å†™å…¥ã€‚ åŸºäºæ­¤ï¼Œ <code class="highlighter-rouge">Java</code>æ‰ä¼šæœ‰4ä¸ªæŠ½è±¡ç±»ï¼Œ æ¥å¯¹åº”ä¸åŒæ¨¡å¼çš„è¯»å’Œå†™ã€‚</p>

<p><img src="https://smartkeyerror.oss-cn-shenzhen.aliyuncs.com/Blog/2018-11-20%2011-32-30%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="" /></p>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç»„åˆæ¥å®ç°ä¸åŒæ¨¡å¼çš„è¯»å–å’Œå†™å…¥ï¼Œ ä¾‹å¦‚ä½¿ç”¨<code class="highlighter-rouge">InputStream</code>è¯»å–bytesï¼Œ ç„¶åä½¿ç”¨<code class="highlighter-rouge">Writer</code>å°†bytesè½¬æ¢æˆå­—ç¬¦ä¹‹åå†™å…¥ï¼Œ æˆ–è€…ä»¥ç›¸åçš„æ–¹å¼æ¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œæ“ä½œã€‚ åœ¨æ¶‰åŠå…·ä½“çš„å®ç°ç±»ä¹‹å‰ï¼Œ é¦–å…ˆè¦ç†è§£è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶çš„åŸºæœ¬æ¨¡å¼ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># è¯»/å†™æ•°æ®çš„é€»è¾‘ï¼š</span>
open a stream
<span class="k">while </span>more information
    <span class="nb">read</span>/write information
close stream
</code></pre></div></div>

<p>æ–‡ä»¶æ“ä½œåœ¨å¼€å‘ä¸­æœ€ä¸ºå¸¸è§ï¼Œ æ‰€ä»¥å°±ä»¥<code class="highlighter-rouge">FileInputStream</code>å’Œ<code class="highlighter-rouge">OutputStream</code>ä¸ºä¾‹ï¼Œ è¿›è¡Œæ¢³ç†ã€‚ é¦–å…ˆæ¥çœ‹<code class="highlighter-rouge">read</code>æ–¹æ³•ï¼Œ æœ€å®Œæ•´çš„å‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">read</span><span class="o">(</span><span class="kt">byte</span> <span class="n">b</span><span class="o">[],</span> <span class="kt">int</span> <span class="n">off</span><span class="o">,</span> <span class="kt">int</span> <span class="n">len</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span>
</code></pre></div></div>

<p>å…¶ä¸­çš„<code class="highlighter-rouge">b[]</code>å³ä¸ºä¸€ä¸ªbufferæ•°ç»„ï¼Œ ç”¨äºæ¥å—æ–‡ä»¶æ•°æ®ï¼› <code class="highlighter-rouge">off</code>ä¸ºè¯»å–æ–‡ä»¶æ—¶çš„åç§»é‡ï¼Œ å³ä»å“ªä¸ªåœ°æ–¹å¼€å§‹è¯»å–ï¼› <code class="highlighter-rouge">len</code>è¡¨ç¤ºæ¯ä¸€æ¬¡çš„è¯»å–æœ€å¤šè¯»å¤šå°‘æ•°æ®ï¼Œ è¯¥å‚æ•°çš„æœ€å¤§å€¼ä¸èƒ½è¶…è¿‡bufferæ•°ç»„çš„å¤§å°å‡å»åç§»é‡çš„å¤§å°ï¼Œ å¦‚æœåç§»é‡ä¸º0ï¼Œ é‚£ä¹ˆè¯¥å€¼æœ€å¤§ä¸ºæ•°ç»„å¤§å°ã€‚ é€šå¸¸æ¥è®²4096å°±å¥½ï¼Œ å‚è€ƒç¬¬ä¸€å°èŠ‚çš„è§£é‡Šã€‚</p>

<p>è¯¥å‡½æ•°å°†ä¼šè¿”å›æ¯æ¬¡è¯»åˆ°çš„bytesæ•°é‡ï¼Œ å¦‚æœè¯´å·²ç»è¯»åˆ°äº†<code class="highlighter-rouge">EOF</code>ï¼Œ å³æ–‡ä»¶æœ«å°¾ï¼Œ å°†ä¼šè¿”å›-1ï¼Œ è¯¥å€¼ä¼šä½œä¸ºæˆ‘ä»¬åˆ¤æ–­æ–‡ä»¶æ˜¯å¦è¯»å®Œçš„æ ‡å¿—ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileReadTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="cm">/* åˆ›å»ºæ–‡ä»¶å¯¹è±¡ */</span>
        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"."</span><span class="o">,</span> <span class="s">"hello.txt"</span><span class="o">);</span>
        <span class="cm">/* åˆ›å»ºbufferæ•°ç»„ï¼Œ å¤§å°ä¸º4096 */</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span>
        <span class="cm">/* ä¼ å…¥æ–‡ä»¶æ–‡å¯¹è±¡ï¼Œ æ‰“å¼€ä¸€ä¸ªæµ */</span>
        <span class="n">FileInputStream</span> <span class="n">fileInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="cm">/* å½“æ–‡ä»¶æ²¡æœ‰è¯»å®Œæ—¶ï¼Œ å°†æ‰€è¯»å–åˆ°çš„æ•°æ®è½¬æ¢æˆä¸ºå­—ç¬¦å¹¶å‘æ§åˆ¶å°è¾“å‡º */</span>
        <span class="k">while</span> <span class="o">((</span><span class="n">length</span> <span class="o">=</span> <span class="n">fileInputStream</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">4096</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">string</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">length</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">string</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="cm">/* æœ€åéœ€è¦å…³é—­è¿™ä¸ªæµ */</span>
        <span class="n">fileInputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å†™æ–‡ä»¶çš„è¯è¦ç¨å¾®ç®€å•ä¸€äº›ï¼Œ æµç¨‹ä¸è¯»æ–‡ä»¶åŸºæœ¬ç±»ä¼¼ï¼š</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileOutputTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>

        <span class="n">FileOutputStream</span> <span class="n">fileOutputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="s">"hello.txt"</span><span class="o">);</span>

        <span class="n">StringBuilder</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">buffer</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"hello World~ \n"</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">fileOutputStream</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buffer</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">getBytes</span><span class="o">());</span>

        <span class="n">fileOutputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>é’ˆå¯¹äºè¾“å…¥çš„æ¥æºï¼Œ è¿˜æœ‰<code class="highlighter-rouge">ByteArrayInputStream</code>, å°†å­—èŠ‚æ•°ç»„ä½œä¸ºè¾“å…¥æºï¼› <code class="highlighter-rouge">StringBufferInputStream</code>ï¼Œ å°†Stringå¯¹è±¡ä½œä¸ºè¾“å…¥æºï¼› <code class="highlighter-rouge">SequenceInputStream</code>å°†å¤šä¸ªè¾“å…¥æµåˆå¹¶æˆä¸€ä¸ªè¾“å…¥æµã€‚ æ­¤å¤–è¿˜æœ‰<code class="highlighter-rouge">FilterInputStream</code>è¿™ä¸ªæŠ½è±¡ç±»ä½œä¸ºè£…é¥°è€…å¯¹è¾“å…¥æµè¿›è¡Œè£…é¥°ï¼Œ å…·ä½“çš„å†…å®¹åœ¨åé¢æ¢³ç†ã€‚</p>

<p>æœ‰è¾“å…¥é‚£ä¹ˆè‡ªç„¶å°±ä¼šæœ‰è¾“å‡ºï¼Œ é™¤äº†<code class="highlighter-rouge">FileOutputStream</code>å‘æ–‡ä»¶ä¸­è¾“å‡ºä»¥å¤–ï¼Œ è¿˜æœ‰<code class="highlighter-rouge">ByteArrayOutputStream</code>ï¼Œ åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªç¼“å†²åŒºï¼Œ æ•°æ®å†™å…¥è¯¥ç¼“å†²åŒºï¼› <code class="highlighter-rouge">PipedOutputStream</code>ï¼Œ å®ç°ç®¡é“åŒ–çš„æ¦‚å¿µã€‚ ä»¥åŠ<code class="highlighter-rouge">FilterOutputStream</code>å¯¹è¾“å‡ºæµè¿›è¡Œè£…é¥°ã€‚</p>

<h4 id="4-randomaccessfileç±»">4. RandomAccessFileç±»</h4>
<p><code class="highlighter-rouge">RandomAccessFile</code>æä¾›äº†ä¸<code class="highlighter-rouge">Python</code>éå¸¸ç±»ä¼¼çš„æ–‡ä»¶è¯»å†™æ–¹å¼ï¼Œ ä½†æ˜¯å‰ææ˜¯æˆ‘ä»¬å¯¹æ–‡ä»¶çš„ç»“æ„æœ‰ä¸€ä¸ªæ¸…æ™°çš„äº†è§£ï¼Œ ä¾‹å¦‚è¦è®°å½•æ•°æ®çš„å¤§å°ä»¥åŠä½ç½®ã€‚</p>

<p>é¦–å…ˆæ¥çœ‹æ„é€ å‚æ•°ï¼Œ ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯<code class="highlighter-rouge">String</code>æˆ–è€…æ˜¯<code class="highlighter-rouge">File</code>å¯¹è±¡ï¼Œ è¡¨ç¤ºæ–‡ä»¶è·¯å¾„ï¼› ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ¨¡å¼çš„é€‰æ‹©ï¼Œ ä¸€å…±æœ‰4ç§æ¨¡å¼ï¼š</p>

<table>
  <thead>
    <tr>
      <th>å­—ç¬¦</th>
      <th>å«ä¹‰</th>
      <th>å­—ç¬¦</th>
      <th>å«ä¹‰</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>r</td>
      <td>åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶</td>
      <td>rw</td>
      <td>ä»¥è¯»/å†™çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œ è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™å°è¯•åˆ›å»º</td>
    </tr>
    <tr>
      <td>rws</td>
      <td>ä»¥è¯»/å†™çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶, å¹¶ä¸”å†…å®¹æˆ–æºæ•°æ®æ›´æ–°æ—¶å°†æ•°æ®ç«‹å³åŒæ­¥åˆ°ç£ç›˜ä¸­</td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>rwd</td>
      <td>ä¸rwséå¸¸ç±»ä¼¼ï¼Œ å†…å®¹æ•°æ®æ›´æ–°æ—¶å°†æ•°æ®ç«‹å³åŒæ­¥åˆ°ç£ç›˜ä¸­</td>
      <td>Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">RandomAccessFile</code>åŒ…å«äº†ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼Œç”¨äºæ ‡è¯†å½“å‰æµçš„è¯»å†™ä½ç½®ï¼Œ å¹¶ä¸ºè¯¥å¯¹è±¡æä¾›äº†<code class="highlighter-rouge">get</code>å’Œ<code class="highlighter-rouge">set</code>æ–¹æ³•ï¼Œ åªä¸è¿‡åç§°æ˜¯<code class="highlighter-rouge">getFilePoint</code>å’Œ<code class="highlighter-rouge">seek</code>ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RandomAccessFileDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">RandomAccessFile</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RandomAccessFile</span><span class="o">(</span><span class="s">"hello.txt"</span><span class="o">,</span> <span class="s">"rw"</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span>

        <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">while</span> <span class="o">((</span><span class="n">length</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">buffer</span><span class="o">.</span><span class="na">length</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">length</span><span class="o">));</span>
            <span class="cm">/* è®°å½•å·²ç»è¯»å–çš„å­—èŠ‚æ•° */</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="n">length</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="cm">/* è·³è¿‡å·²è¯»å–å­—èŠ‚æ•°ä¸ªå­—èŠ‚ */</span>
        <span class="n">file</span><span class="o">.</span><span class="na">skipBytes</span><span class="o">(</span><span class="n">count</span><span class="o">);</span>
        <span class="cm">/* ç›¸å½“äºæ–‡ä»¶æœ«å°¾è¿½åŠ æ•°æ® */</span>
        <span class="n">file</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"append"</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>

        <span class="n">file</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>æ²¡æœ‰ä½¿ç”¨ä»»ä½•çš„<code class="highlighter-rouge">InputStream</code>ä»¥åŠ<code class="highlighter-rouge">OutputStream</code>ï¼Œ å°±å¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†è¯»å†™æ“ä½œã€‚ ä¸Šé¢æ¼”ç¤ºçš„ä¸ºå‘æ–‡ä»¶æœ«å°¾è¿›è¡Œè¿½åŠ ï¼Œ ä½¿ç”¨äº†è‡ªå®šä¹‰çš„<code class="highlighter-rouge">count</code>æ¥è®°å½•å·²è¯»çš„æ•°æ®ï¼Œ å®é™…ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">file</span><span class="o">.</span><span class="na">seek</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
<span class="n">file</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\nappend"</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">file.length</code>å°†ä¼šè¿”å›å½“å‰æ–‡ä»¶çš„å­—èŠ‚å¤§å°ï¼Œ æˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code class="highlighter-rouge">seek</code>æ–¹æ³•å°†æŒ‡é’ˆå®šä½åˆ°æœ«å°¾ï¼Œ è¿›è¡Œè¿½åŠ å†™å…¥å³å¯ã€‚</p>

<h4 id="5-filterè£…é¥°ç±»">5. Filterè£…é¥°ç±»</h4>
<p><code class="highlighter-rouge">Filter</code>è£…é¥°ç±»æ˜¯å¯¹â€æµâ€è¿›è¡Œè£…é¥°çš„ç±»ï¼Œ åŒæ ·åˆ†ä¸ºå­—èŠ‚è£…é¥°å’Œå­—ç¬¦è£…é¥°ï¼Œ å¹¶ä¸”æ ¹æ®è¾“å…¥/è¾“å‡ºçš„ä¸åŒä¹Ÿå­˜åœ¨ç€ä¸åŒçš„å®ç°ç»“æ„ã€‚</p>

<p>é¦–å…ˆæ¥çœ‹å­—èŠ‚çš„ç›¸å…³è£…é¥°ç±»ï¼š</p>

<table>
  <thead>
    <tr>
      <th>ç±»</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DataInputStreamï¼Œ DataOutputStream</td>
      <td>å…è®¸è¯»å–/å†™å…¥JavaåŸºæœ¬ç±»å‹æ•°æ®</td>
    </tr>
    <tr>
      <td>BufferedInputStreamï¼Œ BufferedOutputStream</td>
      <td>ä½¿ç”¨ç¼“å†²åŒºçš„æ–¹å¼è¯»å–/å†™å…¥æ•°æ®ï¼Œ å‡å°‘I/Oæ¬¡æ•°</td>
    </tr>
    <tr>
      <td>PushbackInputStream</td>
      <td>ä¸»è¦ç”±ç¼–è¯‘å™¨ä½¿ç”¨ï¼Œ ä¸šåŠ¡å¼€å‘åŸºæœ¬ä¸ä¼šç”¨åˆ°</td>
    </tr>
    <tr>
      <td>PrintStream</td>
      <td>å±äºè¾“å‡ºè£…é¥°ï¼Œ ç”¨äºæ ¼å¼åŒ–çš„è¾“å‡º</td>
    </tr>
  </tbody>
</table>

<p>å­—ç¬¦ç›¸å…³è£…é¥°ç±»ï¼š</p>

<table>
  <thead>
    <tr>
      <th>ç±»</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BufferedReaderï¼Œ BufferedWriter</td>
      <td>ä»¥ç¼“å†²åŒºçš„æ–¹å¼è¿›è¡Œè¯»å†™ï¼Œ å‡å°‘I/Oæ¬¡æ•°</td>
    </tr>
    <tr>
      <td>LineNumberReader</td>
      <td>å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">readLine</code>æ–¹æ³•é€è¡Œè¯»å–</td>
    </tr>
    <tr>
      <td>PrintWriter</td>
      <td>æ ¼å¼åŒ–è¾“å‡º</td>
    </tr>
    <tr>
      <td>PushbackReader</td>
      <td>é€šè¿‡ç¼“å­˜æœºåˆ¶ï¼Œ è¿›è¡Œé¢„è¯»</td>
    </tr>
    <tr>
      <td>InputStreamReaderï¼Œ OutputStreamWriter</td>
      <td>å­—èŠ‚æµå’Œå­—ç¬¦æµçš„ç›¸äº’è½¬æ¢</td>
    </tr>
  </tbody>
</table>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">FileInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">"hello.txt"</span><span class="o">);</span>
        <span class="n">BufferedInputStream</span> <span class="n">bufferedInputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedInputStream</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="n">InputStreamReader</span> <span class="n">inputStreamReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">bufferedInputStream</span><span class="o">);</span>

        <span class="cm">/* é¦–å…ˆæˆ‘ä»¬å…ˆå°†å…¶è¯»å‡ºæ¥, æ­¤æ—¶å·²ç»æ˜¯å­—ç¬¦æµ */</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">chunk</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">data</span> <span class="o">=</span> <span class="n">inputStreamReader</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">chunk</span><span class="o">);</span>

        <span class="cm">/* æ–°å»ºè¾“å‡ºæµ */</span>
        <span class="n">FileWriter</span> <span class="n">fileWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileWriter</span><span class="o">(</span><span class="s">"hello1.txt"</span><span class="o">);</span>
        <span class="n">BufferedWriter</span> <span class="n">bufferedWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="n">fileWriter</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">data</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">chunk</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">data</span><span class="o">));</span>
            <span class="n">bufferedWriter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">chunk</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
            <span class="cm">/* å†™å…¥æ•°æ® */</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">inputStreamReader</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">chunk</span><span class="o">);</span>

        <span class="o">}</span>

        <span class="cm">/* å…³é—­èµ„æº */</span>
        <span class="n">inputStreamReader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">bufferedWriter</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="51-è£…é¥°æ¨¡å¼">5.1 è£…é¥°æ¨¡å¼</h5>
<p>åœ¨çœ‹<code class="highlighter-rouge">Java</code>çš„è£…é¥°æ¨¡å¼ä¹‹å‰ï¼Œ é¦–å…ˆæ¥çœ‹<code class="highlighter-rouge">Python</code>ä¸­çš„è£…é¥°å™¨ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">wrapper_func</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inner_func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"function cost time: {}"</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">inner_func</span>

<span class="n">wrapper_func</span>
<span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="s">"""
    do_something useful
    """</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"This is main function"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">do_something</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span>
</code></pre></div></div>

<p>æ²¡æœ‰ä»€ä¹ˆå¾ˆå¤æ‚çš„åœ°æ–¹ï¼Œ <code class="highlighter-rouge">@</code>æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œ æœ¬è´¨ä¸Šå…¶å®ä¼šè°ƒç”¨ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">do_something</span> <span class="o">=</span> <span class="n">wrapper_func</span><span class="p">(</span><span class="n">do_something</span><span class="p">)</span>
</code></pre></div></div>

<p>åœ¨<code class="highlighter-rouge">Java</code>ä¸­çš„è£…é¥°æ¨¡å¼è°ƒç”¨æ–¹å¼ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œ ç”±äºå­˜åœ¨ç€å¼ºåˆ¶ç±»å‹å£°æ˜ï¼Œ æ‰€ä»¥åœ¨<code class="highlighter-rouge">Java</code>ä¸­å®ç°è£…é¥°æ¨¡å¼è¦ç¨å¾®å¤æ‚ä¸€äº›ã€‚ <code class="highlighter-rouge">do_something</code>å¯¹è±¡ç±»å‹ä¸<code class="highlighter-rouge">wrapper_func</code>å‡½æ•°æ‰€è¿”å›çš„å¯¹è±¡ç±»å‹åº”è¯¥ä¸€è‡´ï¼Œ é‚£ä¹ˆå°†å‡½æ•°å¾€ä¸Šæä¸€å±‚ï¼Œ å°±åˆ°äº†<code class="highlighter-rouge">ç±»</code>è¿™ä¸ªå±‚é¢ï¼Œ æ‰€ä»¥è¯´ï¼Œ <code class="highlighter-rouge">do_something</code>å’Œ<code class="highlighter-rouge">wrapper_func</code>å¿…é¡»æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>

<p>æ‰€ä»¥å°±æœ‰äº†ç»Ÿä¸€çš„æ¥å£ï¼Œ åº”ç”¨ç±»å’Œè£…é¥°ç±»å‡å®ç°è¯¥æ¥å£ï¼Œ å¹¶ä¸”åœ¨è£…é¥°ç±»ä¸­éœ€è¦æ³¨å…¥ä¸€ä¸ªåº”ç”¨ç±»çš„å®ä¾‹ï¼Œ å¹¶é€šè¿‡ç±»ä¼¼ä»£ç†çš„æ–¹å¼è°ƒç”¨åº”ç”¨ç±»å¯¹è±¡çš„æ–¹æ³•ä»¥åŠè‡ªå·±å®ç°çš„æ–¹æ³•ã€‚ ä¸‹é¢å°±å†™ä¸€ä¸ªæœ€ç®€å•çš„è£…é¥°æ¨¡å¼ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Work</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">work</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">HomeWork</span> <span class="kd">implements</span> <span class="n">Work</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">work</span><span class="o">()</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"åšå®¶åº­ä½œä¸š"</span><span class="o">);</span> <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Decorator</span> <span class="kd">implements</span> <span class="n">Work</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Work</span> <span class="n">work</span><span class="o">;</span>

    <span class="n">Decorator</span><span class="o">(</span><span class="n">Work</span> <span class="n">work</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">work</span> <span class="o">=</span> <span class="n">work</span><span class="o">;</span> <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">work</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">work</span><span class="o">.</span><span class="na">work</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"åšå…¶å®ƒçš„ä½œä¸š"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleDecorator</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">HomeWork</span> <span class="n">homeWork</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HomeWork</span><span class="o">();</span>
        <span class="n">Decorator</span> <span class="n">decorator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Decorator</span><span class="o">(</span><span class="n">homeWork</span><span class="o">);</span>
        <span class="n">decorator</span><span class="o">.</span><span class="na">work</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>åœ¨è¿™é‡Œæˆ‘å°†<code class="highlighter-rouge">Decorator</code>ç±»ç›´æ¥åšä¸ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œ æœ¬æ¥è¿™é‡Œåº”è¯¥æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œ è®©å…·ä½“çš„è£…é¥°ç±»å®ç°ç»§æ‰¿è¯¥æŠ½è±¡ç±»ï¼Œ å·²è¾¾åˆ°æ›´å¥½çš„å¤ç”¨æ•ˆæœã€‚ å˜›ï¼Œ æµ‹è¯•å˜›ï¼Œ æ´’æ´’æ°´å•¦ï½ I/OåŒ…é‡Œé¢æ‰€æœ‰çš„è£…é¥°æ¨¡å¼éƒ½æ˜¯ä»¥è¿™æ ·çš„ç»“æ„æ¥å®ç°çš„ï¼Œ å…·ä½“çš„ç±»å›¾å°±ä¸è´´äº†ã€‚</p>

<h4 id="6-nio">6. NIO</h4>
<p>åœ¨æ–‡ä»¶æ“ä½œä¸Šï¼Œ æˆ‘æ›´å€¾å‘äºå°†NIOè§£é‡Šä¸ºNew-IOï¼Œ å³æ–°çš„I/Oæ–¹å¼ï¼› åœ¨<code class="highlighter-rouge">Reactor</code>æ¨¡å‹ä¸­ï¼Œ æ›´å€¾å‘äºå°†å…¶è§£é‡Šä¸º<code class="highlighter-rouge">No-Blocking I/O</code>ï¼Œ å³åŒæ­¥éé˜»å¡I/Oã€‚</p>

<p>åœ¨NIOä¸­ï¼Œ ä¸å†é¢å‘â€æµâ€ç¼–ç¨‹ï¼Œ è€Œæ˜¯é¢å‘ç¼“å†²åŒºç¼–ç¨‹ã€‚ NIOæœ€é‡è¦çš„ä¸¤ä¸ªæ¦‚å¿µå°±æ˜¯<code class="highlighter-rouge">channel</code>å’Œ<code class="highlighter-rouge">buffer</code>ï¼Œ å€Ÿé‰´Thinking in Javaä¸­çš„ä¸¾ä¾‹ï¼Œ å¯ä»¥å°†ç£ç›˜æ¯”ä½œä¸€ä¸ªç…¤çŸ¿ï¼Œ å°†é€šé“(channel)åŒ…å«ç…¤å±‚(æ•°æ®)ï¼Œ ç¼“å†²åŒº(buffer)å°±æ˜¯è¿ç…¤çš„å¡è½¦ã€‚ å¡è½¦ä»ç…¤çŸ¿ä¸­æ»¡è½½è€Œå½’ï¼Œ ç…¤å—åŠ å·¥å¤„è´Ÿè´£å°†ç…¤å—ä»è½¦ä¸Šå–å‡ºï¼Œ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬æ²¡æœ‰å’Œç…¤çŸ¿ç›´æ¥æ‰“äº¤é“ï¼Œ è€Œæ˜¯å’Œå¡è½¦æ‰“äº¤é“ã€‚ è¿™ä¹Ÿæ˜¯NIOçš„åŸºæœ¬åŸç†ï¼Œ æˆ‘ä»¬åªèƒ½å‘bufferä¸­è¯»å–æˆ–è€…å†™å…¥æ•°æ®ï¼Œ å†ç”±bufferå‘channelè¯»å–æˆ–è€…å†™å…¥æ•°æ®ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">FileInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">"hello.txt"</span><span class="o">);</span>
<span class="cm">/* è·å–Channelå¯¹è±¡ */</span>
<span class="n">FileChannel</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">inputStream</span><span class="o">.</span><span class="na">getChannel</span><span class="o">();</span>
<span class="cm">/* å£°æ˜Bufferå¯¹è±¡ */</span>
<span class="n">ByteBuffer</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">ByteBuffer</span><span class="o">.</span><span class="na">allocate</span><span class="o">(</span><span class="mi">4096</span><span class="o">);</span>
<span class="cm">/* å°†æ•°æ®ä»channelå†™å…¥è‡³bufferä¸­ */</span>
<span class="n">channel</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">);</span>
<span class="cm">/* å°†bufferç›¸å…³å˜é‡è¿˜åŸ */</span>
<span class="n">buffer</span><span class="o">.</span><span class="na">flip</span><span class="o">();</span>

<span class="k">while</span> <span class="o">(</span><span class="n">buffer</span><span class="o">.</span><span class="na">hasRemaining</span><span class="o">())</span> <span class="o">{</span>
    <span class="kt">byte</span> <span class="n">b</span> <span class="o">=</span> <span class="n">buffer</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"character: "</span> <span class="o">+</span> <span class="o">(</span><span class="kt">char</span><span class="o">)</span><span class="n">b</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">channel</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</code></pre></div></div>

<p>è¿™æ˜¯ä¸€ä¸ªä¸é‚£ä¹ˆä¸¥è°¨çš„demoï¼Œ å› ä¸ºåªèƒ½è¯»å–4096ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œ ä½†æ˜¯ä¸å¦¨ç¢æˆ‘ä»¬å¯¹<code class="highlighter-rouge">channel</code>å’Œ<code class="highlighter-rouge">buffer</code>çš„ç†è§£ã€‚ é¦–å…ˆè·å–<code class="highlighter-rouge">FileInputStream</code>å¯¹è±¡çš„<code class="highlighter-rouge">FileChannel</code>å¯¹è±¡ï¼Œ ä¹‹æ‰€ä»¥å¯ä»¥è¿™æ ·åšæ˜¯å› ä¸ºè¯¥æ–‡ä»¶è¾“å…¥æµå·²ç»ä»¥ä½¿ç”¨NIOçš„æ–¹å¼è¿›è¡Œé‡å†™äº†ï¼Œ ç„¶åæˆ‘ä»¬ä½¿ç”¨<code class="highlighter-rouge">ByteBuffer</code>çš„é™æ€æ–¹æ³•å£°æ˜äº†ä¸€ä¸ªæœ‰ç•Œçš„ç¼“å†²åŒºï¼Œ å°†æ•°æ®é€šè¿‡channelè£…å¡«è‡³bufferä¸­ï¼Œ å¹¶å¯¹bufferè¿›è¡Œç¿»è½¬ï¼Œ ä»¥åŠæ•°æ®çš„è¯»å–ã€‚</p>

<h5 id="61-bufferåŸç†">6.1 bufferåŸç†</h5>
<p>åœ¨ä¸Šé¢æˆ‘ä»¬ç®€å•çš„ä½¿ç”¨bufferçš„æ–¹å¼å¯¹æ–‡ä»¶è¿›è¡Œäº†è¯»å–ï¼Œ åœ¨æœ¬å°èŠ‚ä¸­å¯¹bufferè¿›è¡Œæ›´æ·±å…¥çš„ç†è§£ã€‚</p>

<p>æ ¹æ®Javadocï¼Œ bufferæ˜¯ä¸€ä¸ªçº¿æ€§çš„æœ‰ç•Œåºåˆ—ï¼Œ ä¿å­˜ç€ç‰¹å®šçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ é™¤å»ä¿å­˜çš„å†…å®¹ï¼Œ æœ€æ ¸å¿ƒçš„å±æ€§å°±æ˜¯<code class="highlighter-rouge">capacity</code>, <code class="highlighter-rouge">limit</code>ä»¥åŠ<code class="highlighter-rouge">position</code>ã€‚</p>

<p><code class="highlighter-rouge">capacity</code>æŒ‡å®šbufferçš„å®¹é‡ï¼Œ ä¸€ç»å®šä¹‰æ— æ³•ä¿®æ”¹ï¼Œ ä¸”è¯¥å€¼ä¸å…è®¸ä¸ºè´Ÿæ•°ï¼› <code class="highlighter-rouge">limit</code>è¡¨ç¤ºåœ¨ä¸€ä¸ªbufferä¸­ï¼Œ ä¸å…è®¸è¯»å–æˆ–å†™å…¥çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼› <code class="highlighter-rouge">position</code>è¡¨ç¤ºä¸‹ä¸€ä¸ªå°†è¦è¯»å–æˆ–å†™å…¥çš„å…ƒç´ çš„ç´¢å¼•ã€‚ å¬èµ·æ¥éå¸¸çš„ç»•å£ï¼Œ ä»¥å›¾ç¤ºè¿›è¡Œè§£é‡Šï¼š</p>

<p><img src="https://smartkeyerror.oss-cn-shenzhen.aliyuncs.com/Blog/2018-11-10%2016-36-13%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="" /></p>

<p>å›¾ç¤ºä¸ä¸Šé¢çš„ä»£ç æ²¡æœ‰ç›´æ¥å…³è”ã€‚</p>

<p>åˆå§‹åŒ–ï¼š position = 0, capacityä¸limitå€¼ç›¸åŒï¼Œ å€¼ä¸ºæ•°ç»„å¤§å°ï¼Œ å¯ä»¥è®¤ä¸ºå…¶æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </p>

<p>å‘bufferä¸­å†™æ•°æ®ï¼š ä¹Ÿå°±æ˜¯è°ƒç”¨<code class="highlighter-rouge">channel.read(buffer)</code>ï¼Œ å‡è®¾å†™äº†4ä¸ªå…ƒç´ ï¼Œ é‚£ä¹ˆpositionå‘åç§»åŠ¨4ä½ï¼Œ å…¶ä½™å€¼ä¸å˜</p>

<p>å‡†å¤‡è¯»å–å…ƒç´ ï¼š æ­¤æ—¶å¿…é¡»è°ƒç”¨<code class="highlighter-rouge">flip</code>æ–¹å¼ä½¿å¾—positionç½®0ï¼Œ è€Œlimitåˆ™æŒ‡å‘åŸæ¥positionçš„ä½ç½®</p>

<p>è¯»å–å…ƒç´ ï¼š åœ¨è¯»å–å…ƒç´ æ—¶ï¼Œ positionçš„ä½ç½®ä¼šä¸æ–­çš„å‘åç§»åŠ¨ï¼Œ ç›´è‡³ç§»åŠ¨åˆ°ä¸limitç›¸åŒçš„ä½ç½®ã€‚ æ­¤æ—¶å…ƒç´ å·²ç»è¯»å–å®Œæ¯•ï¼Œ positionå†å‘åç§»åŠ¨å°±æ²¡æœ‰äº†æ„ä¹‰ã€‚</p>

<p>ä»ä¸Šé¢çš„è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œ å‡è®¾æˆ‘ä»¬çš„bufferå¤§å°ä¸º4096ï¼Œ ä½†æ˜¯æ–‡ä»¶åªæœ‰20ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œ å‘bufferä¸­å†™æ•°æ®å’Œè¯»æ•°æ®éƒ½ä¸ä¼šé€ æˆç©ºé—´å’Œæ—¶é—´ä¸Šçš„æµªè´¹ï¼Œ åŸºäºæ­¤çš„è®¾è®¡ä½¿å¾—NIOè¦æ¯”æ—§IOæœ‰æ›´é«˜çš„æ•ˆç‡ã€‚</p>

<p>åœ¨æœ‰äº†bufferä¹‹åï¼Œ æˆ‘ä»¬è¿›è¡Œæ–‡ä»¶å†…å®¹çš„æ‹·è´å°±å˜å¾—éå¸¸ç®€å•äº†ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NIOCopyFile</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>

        <span class="n">FileChannel</span> <span class="n">inChannel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">"hello.txt"</span><span class="o">).</span><span class="na">getChannel</span><span class="o">();</span>

        <span class="n">FileChannel</span> <span class="n">outChannel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="s">"hello1.txt"</span><span class="o">).</span><span class="na">getChannel</span><span class="o">();</span>

        <span class="n">ByteBuffer</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">ByteBuffer</span><span class="o">.</span><span class="na">allocate</span><span class="o">(</span><span class="mi">4096</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">inChannel</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">buffer</span><span class="o">.</span><span class="na">flip</span><span class="o">();</span>  <span class="c1">// ç¿»è½¬buffer, å‡†å¤‡è¿›è¡Œbufferçš„è¯»æ“ä½œ</span>
            <span class="n">outChannel</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buffer</span><span class="o">);</span>
            <span class="n">buffer</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>  <span class="c1">// å°†bufferçš„position, limitç½®ä¸ºæœ€åˆçŠ¶æ€, ä»¥ä¾¿æ¥æ”¶åç»­æ•°æ®</span>
        <span class="o">}</span>

        <span class="n">inChannel</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">outChannel</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="62-bytebufferæºç åˆ†æ">6.2 ByteBufferæºç åˆ†æ</h5>
<p>åœ¨æˆ‘ä»¬æ•²ä¸‹ï¼š<code class="highlighter-rouge">ByteBuffer buffer = ByteBuffer.allocate(4096);</code>ï¼Œ ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>

<p><code class="highlighter-rouge">allocate</code>æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œ è¿”å›ä¸€ä¸ª<code class="highlighter-rouge">HeapByteBuffer</code>å¯¹è±¡å®ä¾‹ï¼Œ é‡Œé¢çš„æ–¹æ³•å€’æ˜¯æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œ æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹å°±æ˜¯è¯¥bufferä¸­çš„æ•°ç»„æ˜¯ä½äºå †å†…å­˜ä¸­çš„ã€‚ é‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€æ•°æ®éœ€è¦ä»å †å†…å­˜æ‹·è´åˆ° OSæ‹·è´ç©ºé—´å½“ä¸­ï¼Œ ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚</p>

<p>æ‰€ä»¥ï¼Œ NIOè¿˜æä¾›äº†ä¸€ä¸ªç›´æ¥ç¼“å†²åŒºï¼Œ å³<code class="highlighter-rouge">DirectByteBuffer</code>ï¼Œ è¯¥bufferçš„è¡Œä¸ºä¸å †bufferåŸºæœ¬ç±»ä¼¼ï¼Œ åªä¸è¿‡ç›´æ¥ç¼“å†²åŒºå°†bufferçš„å†…å­˜ç›´æ¥å£°æ˜åœ¨äº†å †å¤–ï¼Œ å¹¶ä½¿ç”¨ä¸€ä¸ª<code class="highlighter-rouge">long</code>å˜é‡æ¥æŒ‡å‘è¿™å—å„¿å†…å­˜ã€‚</p>

<p><img src="https://smartkeyerror.oss-cn-shenzhen.aliyuncs.com/Blog/2018-11-12%2011-24-10%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="" /></p>

<p>è™½ç„¶çœ‹èµ·æ¥<code class="highlighter-rouge">DirectByteBuffer</code>èƒ½å¤ŸåŠ å¿«æ•°æ®çš„è®¿é—®ï¼Œ ä½†æ˜¯è¿™ä¸æ“ä½œç³»ç»Ÿçš„ç±»å‹ç›´æ¥ç›¸å…³ï¼Œ æ‰€ä»¥åœ¨ä½¿ç”¨ç›´æ¥ç¼“å†²åŒºæ—¶ï¼Œ éœ€è¦å¯¹å…¶è¿›è¡ŒåŸºæœ¬çš„æ€§èƒ½æµ‹è¯•ï¼Œ ä¿è¯ç¡®å®è¦æ¯”å †ç¼“å†²åŒºæ›´å¿«ã€‚</p>

<h4 id="7-å°ç»“">7. å°ç»“</h4>
<p><code class="highlighter-rouge">Java</code>çš„I/Oç³»ç»Ÿçœ‹èµ·æ¥è®¾è®¡çš„éå¸¸å¤æ‚ï¼Œ ä½†æ˜¯å¯¹å…¶æŠ½ä¸å‰¥èŒ§ï¼Œ ä¸€å±‚ä¸€å±‚çš„å°†å…¶å±•å¼€ï¼Œ ç†è§£èµ·æ¥ä¹Ÿå¹¶ä¸ä¼šç‰¹åˆ«çš„å¤æ‚ã€‚ åœ¨æœ¬ç¯‡æ–‡ç« ä¸­å¯¹ä¸€äº›å¸¸ç”¨çš„ç±»ä»¥åŠæŠ€æœ¯åšäº†æ¯”è¾ƒç²—ç•¥çš„ä»‹ç»å’Œdemoï¼Œ åœ¨å·¥ç¨‹å®è·µä¸­è¦æ¯”è¿™æ›´åŠ çš„å¤æ‚ï¼Œ ä½†æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œ åŸç†æ€§çš„çŸ¥è¯†çš„ç¡®åªæœ‰ä¸€å°‘éƒ¨åˆ†ã€‚ å½“æˆ‘ä»¬ç†è§£äº†åº”ç”¨å±‚åºå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„å…³ç³»ä»¥åŠç›¸å…³æ“ä½œé€»è¾‘ï¼Œ ä¸€äº›å›°æ‰°æˆ‘ä»¬çš„é—®é¢˜ä¹Ÿå°±è‡ªç„¶è¿åˆƒè€Œè§£äº†ã€‚</p>



        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
            
                
                    
                        <figure class="author-image">
                            <a class="img" href="/author/smartkeyerror" style="background-image: url(/assets/images/author.jpg)"><span class="hidden">smartkeyerror's Picture</span></a>
                        </figure>
                    

                    <section class="author">
                        <h4><a href="/author/smartkeyerror">smartkeyerror</a></h4>

                        
                            <p> æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æ</p>
                        
                        <div class="author-meta">
                            <span class="author-location icon-location"> China</span>
                            <span class="author-link icon-link"><a href="https://smartkeyerror.com"> https://smartkeyerror.com</a></span>
                        </div>
                    </section>

                    <!-- /author  -->

                    <section class="share">
                        <h4>Share this post</h4>
                        <a class="icon-twitter" href="http://twitter.com/share?text=JavaåŸºç¡€ç¼–ç¨‹(01)--I/Oç³»ç»Ÿ&amp;url=https://smartkeyerror.comJava-IO"
                            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                            <span class="hidden">Twitter</span>
                        </a>
                        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://smartkeyerror.comJava-IO"
                            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                            <span class="hidden">Facebook</span>
                        </a>
                        <a class="icon-google-plus" href="https://plus.google.com/share?url=https://smartkeyerror.comJava-IO"
                           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                            <span class="hidden">Google+</span>
                        </a>
                    </section>
                
            

            <!-- Add Disqus Comments -->
            

        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story no-cover" href="/Java-Interface-and-abstract-class">
            <section class="post">
                <h2>JavaåŸºç¡€ç¼–ç¨‹(02)--æ¥å£ä¸æŠ½è±¡ç±»</h2>
                <p>åœ¨Javaä¸­ï¼Œ æˆ‘è®¤ä¸ºæ¥å£å’ŒæŠ½è±¡ç±»æ˜¯èƒ½å¤Ÿè®©â€åŒ äººâ€å……åˆ†å‘æŒ¥å…¶æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›çš„åœ°æ–¹ï¼Œ è¿™ä¸¤ä¸ªç±»ç»“æ„ä½¿å¾—è½¯ä»¶å¤§å¸ˆä»¬èƒ½å¤Ÿç¼–å†™å‡ºç²¾ç¾ï¼Œ ä¼˜é›…å’Œå·§å¦™çš„ä»£ç ã€‚ è€Œåœ¨æˆ‘è¿™ç§ä½ç«¯ç¨‹åºå‘˜æ‰‹ä¸­ï¼Œ å®ƒä»…ä»…åªæ˜¯ä¸€ä¸ªç»“æ„è€Œå·²ï¼Œ ç¦»å“å°åˆ°å…¶è®¾è®¡ç²¾é«“ä¸çŸ¥è¿˜éš”ç€å¤šå°‘åº§å¤§å±±ã€‚

</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev no-cover" href="/MySQL-Permissions">
            <section class="post">
                <h2>MySQLæƒé™ç®¡ç†</h2>
                <p>MySQLçš„æƒé™ç®¡ç†é‡è¦æ€§ç­‰åŒäºæœåŠ¡å™¨æ•°æ®çš„é‡è¦æ€§ï¼Œ æƒé™ä½“ç³»å¦‚æœå»ºç«‹çš„ä¸åˆ°ä½çš„è¯ï¼Œ ä¹Ÿå°±æ„å‘³ç€ç”Ÿäº§æ•°æ®å¤„äºå±é™©çŠ¶æ€ã€‚

</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <!-- The tiny footer at the very bottom -->
        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">çŸ¥å…¶ç„¶, çŸ¥å…¶æ‰€ä»¥ç„¶</a> &copy; 2020</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/jekyller/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- highlight.js -->
<!--    <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/10.1.2/styles/monokai-sublime.min.css">-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery needs to come before `` so that jQuery can be used in code injection -->
    <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <!-- Ghost outputs important scripts and data with this tag -->
    <!--  -->
    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-150652886-1', 'auto');
	    ga('send', 'pageview');

     </script>
    <!-- Fitvids makes video embeds responsive and awesome -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <!-- The main JavaScript file for Casper -->
    <script type="text/javascript" src="/assets/js/index.js"></script>

</body>
</html>
